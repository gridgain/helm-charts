ignite {
    clientConnector {
        connectTimeoutMillis=5000
        idleTimeoutMillis=0
        listenAddresses=[]
        metricsEnabled=true
        port=10800
        sendServerExceptionStackTraceToClient=false
        ssl {
            ciphers=""
            clientAuth=none
            enabled=false
            keyStore {
                password=""
                path=""
                type=PKCS12
            }
            trustStore {
                password=""
                path=""
                type=PKCS12
            }
        }
    }
    compute {
        queueMaxSize=2147483647
        statesLifetimeMillis=60000
        threadPoolSize=10
    }
    deployment {
        location=deployment
    }
    failureHandler {
        dumpThreadsOnFailure=true
        dumpThreadsThrottlingTimeoutMillis=10000
        handler {
            ignoredFailureTypes=[
                systemWorkerBlocked,
                systemCriticalOperationTimeout
            ]
            type=noop
        }
        oomBufferSizeBytes=16384
    }
    network {
        fileTransfer {
            chunkSizeBytes=1048576
            maxConcurrentRequests=4
            responseTimeoutMillis=10000
            threadPoolSize=8
        }
        inbound {
            soBacklog=128
            soKeepAlive=true
            soLinger=0
            soReuseAddr=true
            tcpNoDelay=true
        }
        listenAddresses=[]
        membership {
            failurePingIntervalMillis=1000
            membershipSyncIntervalMillis=30000
            scaleCube {
                failurePingRequestMembers=3
                gossipIntervalMillis=200
                gossipRepeatMult=3
                membershipSuspicionMultiplier=5
                metadataTimeoutMillis=3000
            }
        }
        nodeFinder {
            netClusterNodes=[
                "{{ include "gridgain9.fullname" . }}-headless:{{ .Values.services.headless.ports.cluster }}"
            ]
            type=STATIC
        }
        outbound {
            soKeepAlive=true
            soLinger=0
            tcpNoDelay=true
        }
        port={{ .Values.services.headless.ports.cluster }}
        shutdownQuietPeriodMillis=0
        shutdownTimeoutMillis=15000
        ssl {
            ciphers=""
            clientAuth=none
            enabled=false
            keyStore {
                password=""
                path=""
                type=PKCS12
            }
            trustStore {
                password=""
                path=""
                type=PKCS12
            }
        }
    }
    pitr {
        threadPoolSize=20
    }
    raft {
        fsync=false
        installSnapshotTimeoutMillis=2147483647
        logStripesCount=4
        logYieldStrategy=false
        responseTimeoutMillis=3000
        retryDelayMillis=200
        retryTimeoutMillis=10000
        stripes=10
        volatileRaft {
            logStorageBudget {
                name=unlimited
            }
        }
    }
    rest {
        dualProtocol=false
        httpToHttpsRedirection=false
        port=10300
        ssl {
            ciphers=""
            clientAuth=none
            enabled=false
            keyStore {
                password=""
                path=""
                type=PKCS12
            }
            port=10400
            trustStore {
                password=""
                path=""
                type=PKCS12
            }
        }
    }
    snapshot {
        snapshotChunkSizeBytes=65536
        snapshotDiskBufferSizeBytes=65536
        threadPoolSize=20
    }
    sql {
        execution {
            threadCount=4
        }
        nodeMemoryQuota="60%"
        offloadingDataDir="sql_offloading"
        offloadingDataLimit="0g"
        planner {
            threadCount=4
        }
    }
    storage {
        engines {
            aimem {
                pageSizeBytes=16384
            }
            aipersist {
                checkpoint {
                    checkpointDelayMillis=200
                    checkpointThreads=4
                    compactionThreads=4
                    intervalDeviationPercent=40
                    intervalMillis=180000
                    logReadLockThresholdTimeoutMillis=0
                    readLockTimeoutMillis=10000
                    useAsyncFileIoFactory=true
                }
                pageSizeBytes=16384
            }
            columnar {
                compressingConfiguration {
                    enableLz4Compression=true
                }
                memtableConfiguration {
                    dataRegionSize=2147483648
                    memtableMaxSize=67108864
                }
                mergeTreeConfiguration {
                    mergeTreeFanout=4
                    mergeTreeFirstLevelSize=262144
                }
                threadPoolConfiguration {
                    threadPoolThreadCount=2
                }
            }
            rocksdb {
                flushDelayMillis=100
            }
        }
        profiles=[
            {
                engine=aipersist
                name=default
                replacementMode=CLOCK
                sizeBytes={{ mul (div (include "gridgain9.memoryToBytes" .Values.resources.limits.memory) 100) .Values.storage.profile.memoryPercentage }}
            }
        ]
    }
    system {
        cmgPath=""
        criticalWorkers {
            livenessCheckIntervalMillis=200
            maxAllowedLagMillis=500
            nettyThreadsHeartbeatIntervalMillis=100
        }
        metastoragePath=""
        partitionsBasePath=""
        partitionsLogPath=""
    }
    table {
        eviction {
            checkInterval=60000
        }
        expiration {
            batchSize=1000
            checkInterval=30000
            parallelismLevel=1
        }
    }
}
